@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Core theme colors */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 45 93% 47%; /* Amarelo forte (#FFD700) */
    --primary-foreground: 0 0% 0%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 45 93% 47%;
    --radius: 0.5rem;
    
    /* Fluid Typography Scale - Compact for better space utilization */
    --step--2: clamp(0.6rem, 0.55rem + 0.15vw, 0.7rem);   /* captions */
    --step--1: clamp(0.7rem, 0.65rem + 0.2vw, 0.8rem);  /* small text */
    --step-0:  clamp(0.8rem, 0.75rem + 0.25vw, 0.9rem);     /* body text */
    --step-1:  clamp(0.9rem, 0.8rem + 0.3vw, 1rem);      /* large body */
    --step-2:  clamp(1rem, 0.9rem + 0.4vw, 1.2rem);      /* h4 */
    --step-3:  clamp(1.2rem, 1rem + 0.6vw, 1.4rem);   /* h3 */
    --step-4:  clamp(1.4rem, 1.2rem + 0.8vw, 1.8rem);    /* h2 */
    --step-5:  clamp(1.6rem, 1.4rem + 1vw, 2.2rem);       /* h1 */
    --step-6:  clamp(1.8rem, 1.6rem + 1.2vw, 2.8rem);        /* display */
    
    /* Fluid Spacing Scale (Compact for better density) */
    --space-xs: clamp(0.15rem, 0.1rem + 0.1vw, 0.25rem);
    --space-sm: clamp(0.3rem, 0.2rem + 0.2vw, 0.5rem);
    --space-md: clamp(0.6rem, 0.4rem + 0.4vw, 0.8rem);
    --space-lg: clamp(0.8rem, 0.6rem + 0.6vw, 1.2rem);
    --space-xl: clamp(1rem, 0.8rem + 0.8vw, 1.6rem);
    --space-2xl: clamp(1.2rem, 1rem + 1vw, 2rem);
    --space-3xl: clamp(1.6rem, 1.2rem + 1.2vw, 2.4rem);
    
    /* Container Widths (More compact) */
    --container-xs: clamp(16rem, 85vw, 20rem);
    --container-sm: clamp(20rem, 85vw, 28rem);
    --container-md: clamp(28rem, 85vw, 40rem);
    --container-lg: clamp(40rem, 85vw, 56rem);
    --container-xl: clamp(56rem, 85vw, 72rem);
    --container-2xl: clamp(72rem, 85vw, 88rem);
    
    /* Success/Info colors */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --info: 221 83% 53%;
    --info-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    
    /* Chart colors for data visualization */
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    
    /* Enhanced semantic colors */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 10.6% 64.9%;
    
    /* Loading screen variables (improved naming) */
    --loading-bg: #f9fafb;
    --loading-text: #374151;
    --loading-accent: #fbbf24;
    --loading-primary: #f59e0b;
    --z-modal: 9999;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-offcanvas: 1045;
    --z-tooltip: 1070;
    --z-popover: 1080;
    
    /* Animation variables */
    --transition-fast: 0.15s ease-in-out;
    --transition-base: 0.25s ease-in-out;
    --transition-slow: 0.5s ease-in-out;
    --animation-spin: spin 1s linear infinite;
    --animation-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
    --animation-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --animation-bounce: bounce 1s infinite;
    
  /* Legacy typography scale (deprecated - use fluid scale above) */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  
  /* Legacy spacing scale (deprecated - use fluid scale above) */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
    
    /* Border radius scale */
    --radius-sm: 0.125rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --radius-full: 9999px;
    
    /* Shadow variables */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  }

  .dark {
    /* === DARK MODE: PRETO + AMARELO + BRANCO === */
    --background: 0 0% 4%; /* Preto profundo para o fundo principal */
    --foreground: 0 0% 96%; /* Branco suave para o texto */
    --card: 0 0% 8%; /* Cartões em tom grafite */
    --card-foreground: 0 0% 94%; /* Texto claro sobre cartões */
    --popover: 0 0% 6%; /* Sobreposições com contraste leve */
    --popover-foreground: 0 0% 96%;

    /* === DESTAQUES EM AMARELO === */
    --primary: 47 97% 54%; /* Amarelo vibrante da marca */
    --primary-foreground: 0 0% 6%; /* Texto escuro sobre amarelo */

    /* === NEUTROS PARA NAVEGAÇÃO === */
    --secondary: 0 0% 14%; /* Grafite para superfícies secundárias */
    --secondary-foreground: 0 0% 96%;
    --muted: 0 0% 16%; /* Cinza neutro para elementos discretos */
    --muted-foreground: 0 0% 70%;

    /* === ACENTOS E INTERAÇÕES === */
    --accent: 0 0% 12%;
    --accent-foreground: 0 0% 96%;
    --destructive: 0 84% 58%;
    --destructive-foreground: 0 0% 96%;

    /* === BORDAS E ESTADOS DE FOCO === */
    --border: 0 0% 18%;
    --input: 0 0% 12%;
    --ring: 47 97% 54%;

    /* === CORES DE STATUS === */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    --info: 210 96% 62%;
    --info-foreground: 0 0% 100%;
    --warning: 47 97% 54%;
    --warning-foreground: 0 0% 6%;

    /* === PALETA PARA GRÁFICOS === */
    --chart-1: 47 97% 54%;
    --chart-2: 142 71% 45%;
    --chart-3: 210 96% 62%;
    --chart-4: 320 73% 54%;
    --chart-5: 12 85% 62%;

    /* === SIDEBAR COM IDENTIDADE VISUAL === */
    --sidebar-background: 0 0% 6%;
    --sidebar-foreground: 0 0% 96%;
    --sidebar-primary: 47 97% 54%;
    --sidebar-primary-foreground: 0 0% 6%;
    --sidebar-accent: 0 0% 12%;
    --sidebar-accent-foreground: 0 0% 96%;
    --sidebar-border: 0 0% 18%;
    --sidebar-ring: 47 97% 54%;

    /* === ESTADOS DE CARREGAMENTO === */
    --loading-bg: hsl(0 0% 6%);
    --loading-text: hsl(0 0% 96%);
    --loading-accent: hsl(47 97% 54%);
    --loading-primary: hsl(47 97% 54%);

    /* === SOMBRAS CONTEMPORÂNEAS === */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.25);
    --shadow-base: 0 1px 3px 0 hsl(0 0% 0% / 0.35), 0 1px 2px -1px hsl(0 0% 0% / 0.35);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.35), 0 2px 4px -2px hsl(0 0% 0% / 0.3);
    --shadow-lg: 0 10px 18px -3px hsl(0 0% 0% / 0.35), 0 4px 10px -4px hsl(0 0% 0% / 0.3);
    --shadow-xl: 0 25px 30px -8px hsl(0 0% 0% / 0.35), 0 10px 12px -6px hsl(0 0% 0% / 0.3);

    /* === GRADIENTES COM TOQUE AMARELO === */
    --gradient-primary: linear-gradient(135deg, hsl(47 97% 54%) 0%, hsl(47 96% 60%) 100%);
    --gradient-secondary: linear-gradient(135deg, hsl(0 0% 8%) 0%, hsl(0 0% 4%) 100%);
    --gradient-accent: linear-gradient(135deg, hsl(47 97% 54%) 0%, hsl(47 92% 40%) 100%);
  }

  /* === FUNDO ANIMADO MODERNO PARA DARK MODE === */
  .dark .min-h-screen {
    position: relative;
    overflow: hidden;
  }

  .dark .min-h-screen::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, hsl(0 0% 3%) 0%, hsl(0 0% 6%) 50%, hsl(0 0% 2%) 100%);
    z-index: -2;
  }

  .dark .min-h-screen::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 20% 20%, hsl(var(--primary) / 0.14) 0%, transparent 45%),
      radial-gradient(circle at 80% 80%, hsl(var(--primary) / 0.12) 0%, transparent 50%),
      radial-gradient(circle at 35% 70%, hsl(var(--primary) / 0.08) 0%, transparent 55%),
      radial-gradient(circle at 65% 30%, hsl(var(--primary) / 0.06) 0%, transparent 50%);
    animation: darkModeGlow 8s ease-in-out infinite alternate;
    z-index: -1;
  }

  @keyframes darkModeGlow {
    0% {
      opacity: 0.3;
      transform: scale(1) rotate(0deg);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.05) rotate(180deg);
    }
    100% {
      opacity: 0.4;
      transform: scale(1.1) rotate(360deg);
    }
  }

  /* === ANIMAÇÃO DE PARTÍCULAS FLUTUANTES === */
  .dark .floating-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
  }

  .dark .floating-particles::before,
  .dark .floating-particles::after {
    content: '';
    position: absolute;
    width: 4px;
    height: 4px;
    background: hsl(var(--primary) / 0.6);
    border-radius: 50%;
    animation: floatParticles 12s linear infinite;
  }

  .dark .floating-particles::before {
    top: 20%;
    left: 10%;
    animation-delay: 0s;
    animation-duration: 15s;
  }

  .dark .floating-particles::after {
    top: 60%;
    right: 15%;
    animation-delay: 5s;
    animation-duration: 18s;
  }

  @keyframes floatParticles {
    0% {
      transform: translateY(0px) translateX(0px);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100vh) translateX(50px);
      opacity: 0;
    }
  }

  /* === ONDAS SUAVES === */
  .dark .wave-animation {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100px;
    background: linear-gradient(90deg, 
      hsl(var(--primary) / 0.12) 0%, 
      hsl(var(--primary) / 0.06) 25%, 
      hsl(var(--primary) / 0.12) 50%, 
      hsl(var(--primary) / 0.06) 75%, 
      hsl(var(--primary) / 0.12) 100%
    );
    animation: waveMotion 6s ease-in-out infinite;
    z-index: -1;
  }

  @keyframes waveMotion {
    0%, 100% {
      transform: translateX(0px);
      opacity: 0.3;
    }
    50% {
      transform: translateX(20px);
      opacity: 0.6;
    }
  }
  .dark .bg-gradient-to-br,
  .dark [class*="bg-gradient"],
  .dark [class*="from-slate-50"],
  .dark [class*="via-yellow-50"],
  .dark [class*="to-orange-100"],
  .dark [class*="from-yellow-50"],
  .dark [class*="to-orange-50"] {
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--card)) 100%) !important;
    color: hsl(var(--foreground)) !important;
  }

  /* === GLASS EFFECT MODERNO === */
  .dark .glass-effect,
  .dark .backdrop-blur-sm,
  .dark .backdrop-blur-md,
  .dark .backdrop-blur-lg {
    background: rgba(12, 12, 12, 0.85) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid hsl(var(--border)) !important;
    color: hsl(var(--foreground)) !important;
  }

  /* === SHADOWS MODERNAS === */
  .dark .shadow-sm {
    box-shadow: 0 1px 2px 0 hsl(0 0% 0% / 0.25) !important;
  }
  
  .dark .shadow-md {
    box-shadow: 0 4px 6px -1px hsl(0 0% 0% / 0.3), 0 2px 4px -2px hsl(0 0% 0% / 0.25) !important;
  }
  
  .dark .shadow-lg {
    box-shadow: 0 10px 18px -3px hsl(0 0% 0% / 0.35), 0 4px 10px -4px hsl(0 0% 0% / 0.3) !important;
  }
  
  .dark .shadow-xl {
    box-shadow: 0 25px 30px -6px hsl(0 0% 0% / 0.35), 0 12px 15px -6px hsl(0 0% 0% / 0.3) !important;
  }

  /* === TEXTOS COM GRADIENTE AMARELO === */
  .dark .gradient-text,
  .dark .text-gradient {
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(47 96% 65%) 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
  }

  /* === BORDAS MODERNAS === */
  .dark .border-primary {
    border-color: hsl(var(--primary)) !important;
  }
  
  .dark .border-secondary {
    border-color: hsl(var(--secondary)) !important;
  }
  
  .dark .border-muted {
    border-color: hsl(var(--muted)) !important;
  }

  /* === ELEMENTOS COM FUNDO CLARO === */
  .dark .bg-white,
  .dark .bg-gray-50,
  .dark .bg-slate-50,
  .dark .bg-yellow-50,
  .dark .bg-orange-50,
  .dark .bg-gray-100,
  .dark .bg-gray-200,
  .dark .bg-gray-300,
  .dark .bg-slate-100,
  .dark .bg-slate-200,
  .dark .bg-slate-300,
  .dark .bg-zinc-50,
  .dark .bg-zinc-100,
  .dark .bg-zinc-200,
  .dark .bg-neutral-50,
  .dark .bg-neutral-100,
  .dark .bg-neutral-200,
  .dark .bg-stone-50,
  .dark .bg-stone-100,
  .dark .bg-stone-200 {
    background-color: hsl(var(--background)) !important;
    background-image: none !important;
    color: hsl(var(--foreground)) !important;
  }
  .dark .container,
  .dark .max-w-7xl,
  .dark .max-w-6xl,
  .dark .max-w-5xl,
  .dark .max-w-4xl,
  .dark .max-w-3xl,
  .dark .max-w-2xl,
  .dark .max-w-xl,
  .dark .max-w-lg,
  .dark .max-w-md,
  .dark .max-w-sm,
  .dark .w-full,
  .dark .h-full,
  .dark .min-h-screen,
  .dark .min-h-full,
  .dark .h-screen,
  .dark .h-full {
    background-color: hsl(var(--background)) !important;
    color: hsl(var(--foreground)) !important;
  }

  /* === CARDS E ELEMENTOS MODERNOS === */
  .dark .bg-card {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground)) !important;
    border: 1px solid hsl(var(--border)) !important;
  }

  .dark .bg-primary {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
  }

  /* === ELEMENTOS MODERNOS COM FUNDO CORRETO === */
  .dark .box,
  .dark .card,
  .dark .panel,
  .dark .modal,
  .dark .dialog,
  .dark .popover,
  .dark .tooltip,
  .dark .dropdown,
  .dark .menu,
  .dark .sidebar,
  .dark .header,
  .dark .footer,
  .dark .nav,
  .dark .navbar,
  .dark .breadcrumb,
  .dark .pagination,
  .dark .table,
  .dark .form,
  .dark .input,
  .dark .textarea,
  .dark .select,
  .dark .checkbox,
  .dark .radio,
  .dark .button,
  .dark .btn,
  .dark .link,
  .dark .badge,
  .dark .tag,
  .dark .chip,
  .dark .avatar,
  .dark .image,
  .dark .video,
  .dark .audio,
  .dark .iframe,
  .dark .embed,
  .dark .canvas,
  .dark .svg,
  .dark .icon,
  .dark .logo,
  .dark .brand,
  .dark .title,
  .dark .heading,
  .dark .subtitle,
  .dark .caption,
  .dark .label,
  .dark .text,
  .dark .paragraph,
  .dark .list,
  .dark .item,
  .dark .element,
  .dark .component,
  .dark .widget,
  .dark .module,
  .dark .section,
  .dark .article,
  .dark .aside,
  .dark .main,
  .dark .content,
  .dark .wrapper,
  .dark .container-fluid,
  .dark .row,
  .dark .col,
  .dark .column,
  .dark .grid,
  .dark .flex,
  .dark .flexbox,
  .dark .grid-item,
  .dark .flex-item {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground)) !important;
    border-color: hsl(var(--border)) !important;
  }

  /* CORREÇÃO GLOBAL: Textos que devem ser claros */
  .dark .text-black,
  .dark .text-gray-900,
  .dark .text-gray-800,
  .dark .text-gray-700,
  .dark .text-gray-600,
  .dark .text-slate-900,
  .dark .text-slate-800,
  .dark .text-slate-700,
  .dark .text-zinc-900,
  .dark .text-zinc-800,
  .dark .text-zinc-700,
  .dark .text-neutral-900,
  .dark .text-neutral-800,
  .dark .text-neutral-700,
  .dark .text-stone-900,
  .dark .text-stone-800,
  .dark .text-stone-700 {
    color: hsl(var(--foreground)) !important;
  }

  /* CORREÇÃO GLOBAL: Tema claro deve ter fundo claro */
  .light .bg-black,
  .light .bg-gray-900,
  .light .bg-gray-800,
  .light [class*="bg-gray-9"],
  .light [class*="bg-gray-8"] {
    background-color: #ffffff !important;
    color: #000000 !important;
  }

  /* CORREÇÃO GLOBAL: Tema claro - containers claros */
  .light .container,
  .light .max-w-7xl,
  .light .max-w-6xl,
  .light .max-w-5xl,
  .light .max-w-4xl,
  .light .max-w-3xl,
  .light .max-w-2xl,
  .light .max-w-xl,
  .light .max-w-lg,
  .light .max-w-md,
  .light .max-w-sm,
  .light .w-full,
  .light .h-full,
  .light .min-h-screen,
  .light .min-h-full,
  .light .h-screen,
  .light .h-full {
    background-color: #ffffff !important;
    color: #000000 !important;
  }

  /* CORREÇÃO: HTML claro no tema claro */
  .light html {
    background-color: #ffffff !important;
    color: #000000 !important;
  }

  /* CORREÇÃO: Body claro no tema claro */
  .light body {
    background-color: #ffffff !important;
    color: #000000 !important;
  }

  /* === CARDS E ELEMENTOS MODERNOS === */
  .dark .bg-card {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground)) !important;
    border: 1px solid hsl(var(--border)) !important;
  }

  .dark .bg-primary {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
  }

  /* === ELEMENTOS MODERNOS COM FUNDO CORRETO === */
  .dark .box,
  .dark .card,
  .dark .panel,
  .dark .modal,
  .dark .dialog,
  .dark .popover,
  .dark .tooltip,
  .dark .dropdown,
  .dark .menu,
  .dark .sidebar,
  .dark .header,
  .dark .footer,
  .dark .nav,
  .dark .navbar,
  .dark .breadcrumb,
  .dark .pagination,
  .dark .table,
  .dark .form,
  .dark .input,
  .dark .textarea,
  .dark .select,
  .dark .checkbox,
  .dark .radio,
  .dark .button,
  .dark .btn,
  .dark .link,
  .dark .badge,
  .dark .tag,
  .dark .chip,
  .dark .avatar,
  .dark .image,
  .dark .video,
  .dark .audio,
  .dark .iframe,
  .dark .embed,
  .dark .canvas,
  .dark .svg,
  .dark .icon,
  .dark .logo,
  .dark .brand,
  .dark .title,
  .dark .heading,
  .dark .subtitle,
  .dark .caption,
  .dark .label,
  .dark .text,
  .dark .paragraph,
  .dark .list,
  .dark .item,
  .dark .element,
  .dark .component,
  .dark .widget,
  .dark .module,
  .dark .section,
  .dark .article,
  .dark .aside,
  .dark .main,
  .dark .content,
  .dark .wrapper,
  .dark .container-fluid,
  .dark .row,
  .dark .col,
  .dark .column,
  .dark .grid,
  .dark .flex,
  .dark .flexbox,
  .dark .grid-item,
  .dark .flex-item {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground)) !important;
    border-color: hsl(var(--border)) !important;
  }

  /* === TEXTOS MODERNOS === */
  .dark .text-black,
  .dark .text-gray-900,
  .dark .text-gray-800,
  .dark .text-gray-700,
  .dark .text-gray-600,
  .dark .text-slate-900,
  .dark .text-slate-800,
  .dark .text-slate-700,
  .dark .text-zinc-900,
  .dark .text-zinc-800,
  .dark .text-zinc-700,
  .dark .text-neutral-900,
  .dark .text-neutral-800,
  .dark .text-neutral-700,
  .dark .text-stone-900,
  .dark .text-stone-800,
  .dark .text-stone-700 {
    color: hsl(var(--foreground)) !important;
  }

  /* CORREÇÃO GLOBAL: Manter amarelo forte como destaque */
  .dark .text-primary,
  .dark .text-yellow-500,
  .dark .text-yellow-400,
  .dark .text-yellow-600,
  .dark [class*="text-yellow"] {
    color: hsl(var(--primary)) !important;
  }

  .dark .border-primary,
  .dark .border-yellow-500,
  .dark .border-yellow-400,
  .dark .border-yellow-600,
  .dark [class*="border-yellow"] {
    border-color: hsl(var(--primary)) !important;
  }

  /* CORREÇÃO GLOBAL: Botões e elementos interativos em amarelo */
  .dark .bg-primary,
  .dark .bg-yellow-500,
  .dark .bg-yellow-400,
  .dark .bg-yellow-600,
  .dark [class*="bg-yellow"] {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
  }
  
  /* === REMOÇÃO DE CAIXAS PRETAS === */
  .dark [style*="background-color: rgb(0, 0, 0)"],
  .dark [style*="background-color: #000000"],
  .dark [style*="background-color: #000"],
  .dark [style*="background-color: black"] {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground)) !important;
  }

  /* === ELEMENTOS COM FUNDO PRETO FORÇADO === */
  .dark .bg-black,
  .dark .bg-gray-900,
  .dark .bg-gray-800,
  .dark .bg-gray-700,
  .dark .bg-slate-900,
  .dark .bg-slate-800,
  .dark .bg-slate-700,
  .dark .bg-zinc-900,
  .dark .bg-zinc-800,
  .dark .bg-zinc-700,
  .dark .bg-neutral-900,
  .dark .bg-neutral-800,
  .dark .bg-neutral-700,
  .dark .bg-stone-900,
  .dark .bg-stone-800,
  .dark .bg-stone-700 {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground)) !important;
  }

  /* === CORREÇÃO DE CONTRASTE EM BOTÕES === */
  .dark button {
    /* Garantir contraste adequado em todos os botões */
    color: hsl(var(--foreground)) !important;
  }

  .dark button.bg-primary,
  .dark button[class*="bg-primary"] {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
  }

  .dark button.bg-secondary,
  .dark button[class*="bg-secondary"] {
    background-color: hsl(var(--secondary)) !important;
    color: hsl(var(--secondary-foreground)) !important;
  }

  .dark button.bg-accent,
  .dark button[class*="bg-accent"] {
    background-color: hsl(var(--accent)) !important;
    color: hsl(var(--accent-foreground)) !important;
  }

  .dark button.bg-destructive,
  .dark button[class*="bg-destructive"] {
    background-color: hsl(var(--destructive)) !important;
    color: hsl(var(--destructive-foreground)) !important;
  }

  /* === CORREÇÃO ESPECÍFICA PARA BOTÕES COM PROBLEMAS === */
  .dark button[style*="background-color: rgb(0, 0, 0)"],
  .dark button[style*="background-color: #000000"],
  .dark button[style*="background-color: #000"],
  .dark button[style*="background-color: black"] {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
    border-color: hsl(var(--primary)) !important;
  }

  /* === CORREÇÃO PARA BOTÕES COM TEXTO ESCURO EM FUNDO ESCURO === */
  .dark button[style*="color: rgb(0, 0, 0)"],
  .dark button[style*="color: #000000"],
  .dark button[style*="color: #000"],
  .dark button[style*="color: black"] {
    color: hsl(var(--foreground)) !important;
  }
  
  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    :root {
      --transition-fast: 0s;
      --transition-base: 0s;
      --transition-slow: 0s;
      --animation-spin: none;
      --animation-ping: none;
      --animation-pulse: none;
      --animation-bounce: none;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }
  
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem;
    text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent excessive zoom on mobile */
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    /* Better font rendering */
    font-synthesis: none;
    text-rendering: optimizeLegibility;
  /* CORREÇÃO: Garantir que o html também tenha o fundo correto */
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* CORREÇÃO: HTML preto no tema escuro */
.dark html {
  background-color: #000000 !important;
  color: #ffffff !important;
  }
  
  body {
    /* CORREÇÃO: Usar apenas variáveis CSS para garantir que o tema funcione */
    background-color: hsl(var(--background)) !important;
    color: hsl(var(--foreground)) !important;
    min-height: 100dvh;
    line-height: 1.4;
    font-family: var(--font-inter), "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, 
                 "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", 
                 "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    /* Ensure consistent font size - slightly smaller for better density */
    font-size: 14px;
    /* Prevent text from being too large on high-DPI displays */
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    /* Ensure body fills the scaled container */
    width: 100%;
    height: 100%;
    /* Transição suave para mudança de tema */
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* CORREÇÃO: Body preto no tema escuro */
  .dark body {
    background-color: #000000 !important;
    color: #ffffff !important;
  }
  
  /* Improve focus visibility */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }
  
  /* Better text rendering */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.25;
    letter-spacing: -0.025em;
  }
  
  /* Improve code rendering */
  code, kbd, samp, pre {
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Monaco, Consolas, 
                 "Liberation Mono", "Courier New", monospace;
  }
  
  /* Better button and input styling */
  button, input, optgroup, select, textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
  }
  
  /* Remove default button styles */
  button, [role="button"] {
    cursor: pointer;
  }
  
  button:disabled, [role="button"][aria-disabled="true"] {
    cursor: not-allowed;
    opacity: 0.5;
  }
  
  /* Better image handling */
  img, video, canvas, audio, iframe, embed, object {
    display: block;
    vertical-align: middle;
  }
  
  img, video {
    max-width: 100%;
    height: auto;
  }
  
  /* Better table styling */
  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }
  
  /* Improve selection styling */
  ::selection {
    background-color: hsl(var(--primary) / 0.2);
    color: hsl(var(--primary-foreground));
  }
  
  /* Better scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
  }
  
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  /* Fix scroll issues in simulator */
  .main-content-with-sidebar {
    overflow-y: auto !important;
    height: 100vh;
  }
  
  .main-content-with-sidebar > div {
    overflow-y: auto !important;
  }
}

@layer components {
  /* Fluid Typography Classes - Mobile First */
  .type-caption {
    font-size: var(--step--2);
    line-height: 1.4;
    letter-spacing: 0.025em;
  }
  
  .type-small {
    font-size: var(--step--1);
    line-height: 1.4;
    letter-spacing: 0.01em;
  }
  
  .type-body {
    font-size: var(--step-0);
    line-height: 1.6;
    letter-spacing: 0;
  }
  
  .type-body-lg {
    font-size: var(--step-1);
    line-height: 1.6;
    letter-spacing: 0;
  }
  
  .type-h4 {
    font-size: var(--step-2);
    line-height: 1.3;
    letter-spacing: -0.01em;
    font-weight: 600;
  }
  
  .type-h3 {
    font-size: var(--step-3);
    line-height: 1.25;
    letter-spacing: -0.02em;
    font-weight: 600;
  }
  
  .type-h2 {
    font-size: var(--step-4);
    line-height: 1.2;
    letter-spacing: -0.025em;
    font-weight: 700;
  }
  
  .type-h1 {
    font-size: var(--step-5);
    line-height: 1.1;
    letter-spacing: -0.03em;
    font-weight: 700;
  }
  
  .type-display {
    font-size: var(--step-6);
    line-height: 1.1;
    letter-spacing: -0.04em;
    font-weight: 800;
  }
  
  /* Fluid Spacing Classes */
  .space-fluid-xs { margin: var(--space-xs); }
  .space-fluid-sm { margin: var(--space-sm); }
  .space-fluid-md { margin: var(--space-md); }
  .space-fluid-lg { margin: var(--space-lg); }
  .space-fluid-xl { margin: var(--space-xl); }
  .space-fluid-2xl { margin: var(--space-2xl); }
  .space-fluid-3xl { margin: var(--space-3xl); }
  
  .gap-fluid-xs { gap: var(--space-xs); }
  .gap-fluid-sm { gap: var(--space-sm); }
  .gap-fluid-md { gap: var(--space-md); }
  .gap-fluid-lg { gap: var(--space-lg); }
  .gap-fluid-xl { gap: var(--space-xl); }
  .gap-fluid-2xl { gap: var(--space-2xl); }
  .gap-fluid-3xl { gap: var(--space-3xl); }
  
  /* Container Classes */
  .container-fluid-xs { max-width: var(--container-xs); }
  .container-fluid-sm { max-width: var(--container-sm); }
  .container-fluid-md { max-width: var(--container-md); }
  .container-fluid-lg { max-width: var(--container-lg); }
  .container-fluid-xl { max-width: var(--container-xl); }
  .container-fluid-2xl { max-width: var(--container-2xl); }
  
  /* Safe Area Support */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
  
  .safe-all {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  /* Enhanced math expressions styling */
  .math-inline {
    @apply inline-flex items-center mx-1 bg-blue-50 dark:bg-blue-950 px-2 py-1 
           rounded-md text-blue-800 dark:text-blue-200 font-mono text-sm
           border border-blue-200 dark:border-blue-800 transition-colors;
  }
  
  .math-block {
    @apply block my-4 text-center bg-blue-50 dark:bg-blue-950 p-4 
           rounded-lg border border-blue-200 dark:border-blue-800
           shadow-sm transition-colors;
  }
  
  .math-display {
    @apply block my-6 text-center bg-gray-50 dark:bg-gray-900 p-6 
           rounded-lg border border-gray-200 dark:border-gray-700
           shadow-sm transition-colors overflow-x-auto;
  }
  
  /* Loading states */
  .loading-skeleton {
    @apply animate-pulse bg-muted rounded;
  }
  
  .loading-spinner {
    @apply animate-spin rounded-full border-2 border-muted border-t-primary;
  }
  
  /* Status indicators */
  .status-success {
    @apply bg-green-50 dark:bg-green-950 text-green-800 dark:text-green-200 
           border-green-200 dark:border-green-800;
  }
  
  .status-warning {
    @apply bg-yellow-50 dark:bg-yellow-950 text-yellow-800 dark:text-yellow-200 
           border-yellow-200 dark:border-yellow-800;
  }
  
  .status-error {
    @apply bg-red-50 dark:bg-red-950 text-red-800 dark:text-red-200 
           border-red-200 dark:border-red-800;
  }
  
  .status-info {
    @apply bg-blue-50 dark:bg-blue-950 text-blue-800 dark:text-blue-200 
           border-blue-200 dark:border-blue-800;
  }
  
  /* Glassmorphism effect */
  .glass {
    @apply bg-background/80 backdrop-blur-md border border-border/50;
  }
  
  /* Hover effects */
  .hover-lift {
    @apply transition-transform hover:scale-105 hover:shadow-lg;
  }
  
  .hover-glow {
    @apply transition-shadow hover:shadow-lg hover:shadow-primary/25;
  }
  
  /* Container utilities */
  .container-narrow {
    @apply max-w-2xl mx-auto px-3;
  }
  
  .container-wide {
    @apply max-w-7xl mx-auto px-3;
  }
  
  /* Compact layout utilities */
  .compact-padding {
    @apply p-2 sm:p-3;
  }
  
  .compact-margin {
    @apply m-2 sm:m-3;
  }
  
  .compact-gap {
    @apply gap-2 sm:gap-3;
  }
  
  /* Typography utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent;
  }
  
  /* Layout utilities */
  .center-content {
    @apply flex items-center justify-center;
  }
  
  .stack {
    @apply flex flex-col gap-4;
  }
  
  .cluster {
    @apply flex flex-wrap gap-2;
  }
  
  /* Interactive states */
  .interactive {
    @apply transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
           focus-visible:ring-offset-2 active:scale-95;
  }
  
  .interactive:hover {
    @apply bg-accent text-accent-foreground;
  }
  
  /* Button hover states */
  button[class*="bg-secondary"]:hover {
    @apply bg-secondary/80;
  }
  
  /* Toast action hover state */
  [role="button"][class*="bg-transparent"]:hover {
    @apply bg-secondary;
  }
  
  /* Badge hover states */
  [class*="bg-secondary"]:hover {
    @apply bg-secondary/80;
  }
  
  /* Button outline and ghost hover states */
  button[class*="bg-background"]:hover {
    @apply bg-accent text-accent-foreground;
  }
  
  button:not([class*="bg-primary"]):not([class*="bg-secondary"]):not([class*="bg-destructive"]):hover {
    @apply bg-accent text-accent-foreground;
  }
  
  /* Primary button hover states */
  button[class*="bg-primary"]:hover {
    @apply bg-primary/90;
  }
  
  /* Destructive button hover states */
  button[class*="bg-destructive"]:hover {
    @apply bg-destructive/90;
  }
}

@layer utilities {
  /* Custom utility classes */
  .text-balance {
    text-wrap: balance;
  }
  
  .text-pretty {
    text-wrap: pretty;
  }
  
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }
  
  /* Print utilities */
  @media print {
    .print-hidden {
      display: none !important;
    }
    
    .print-visible {
      display: block !important;
    }
  }
}

/* Keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Animações específicas para página 404 */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out forwards;
}

/* Animação de partículas flutuantes */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Animação de brilho pulsante */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(255, 193, 7, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 193, 7, 0.6), 0 0 30px rgba(255, 193, 7, 0.4);
  }
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}

/* ============================================================================
   CHAT OPTIMIZATION STYLES
   ============================================================================ */

/* Spinner animations for loading states */
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #3498db;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  animation: spin 1s linear infinite;
}

.spinner-sm {
  width: 16px;
  height: 16px;
  border-width: 2px;
}

.spinner-lg {
  width: 32px;
  height: 32px;
  border-width: 4px;
}

/* Typing animation for chat placeholders */
.typing-animation {
  display: flex;
  gap: 4px;
  align-items: center;
}

.typing-animation::after {
  content: '• • •';
  animation: pulse 1.5s infinite;
  color: #6b7280;
}

/* Chat message animations */
.chat-message-enter {
  animation: slideInFromBottom 0.3s ease-out;
}

.chat-message-exit {
  animation: slideOutToBottom 0.2s ease-in;
}

/* Loading overlay styles */
.loading-overlay {
  position: fixed;
  inset: 0;
  backdrop-filter: blur(8px);
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.dark .loading-overlay {
  background: rgba(0, 0, 0, 0.8);
}

/* Assistant placeholder bubble */
.assistant-placeholder {
  background: #e0e0e0;
  border-radius: 16px;
  padding: 8px 16px;
  margin: 8px;
  animation: pulse 2s infinite;
}

.dark .assistant-placeholder {
  background: #374151;
}

/* Error message styling */
.chat-error {
  background: #ffe5e5;
  border: 1px solid #fecaca;
  border-radius: 16px;
  padding: 8px 16px;
  margin: 8px;
  color: #dc2626;
}

.dark .chat-error {
  background: #7f1d1d;
  border-color: #991b1b;
  color: #fca5a5;
}

/* Streaming indicator */
.streaming-indicator {
  position: relative;
}

.streaming-indicator::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, #3498db, transparent);
  animation: streamFlow 2s infinite;
}

/* Cancel button styling */
.cancel-button {
  margin-left: 16px;
  padding: 4px 8px;
  background: #ef4444;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 0.875rem;
  cursor: pointer;
  transition: background-color 0.2s;
}

.cancel-button:hover {
  background: #dc2626;
}

/* Keyframe animations for chat */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.4; }
  100% { opacity: 1; }
}

@keyframes slideInFromBottom {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideOutToBottom {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

@keyframes streamFlow {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Responsive chat container */
.chat-container {
  max-width: 800px;
  padding: 16px;
  margin: 0 auto;
}

@media (max-width: 768px) {
  .chat-container {
    padding: 8px;
  }
  
  .spinner {
    width: 20px;
    height: 20px;
  }
  
  .loading-overlay {
    padding: 16px;
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  .spinner,
  .typing-animation::after,
  .assistant-placeholder,
  .streaming-indicator::after {
    animation: none;
  }
  
  .chat-message-enter,
  .chat-message-exit {
    animation: none;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .spinner {
    border-color: #000;
    border-top-color: #0066cc;
  }
  
  .assistant-placeholder {
    background: #f0f0f0;
    border: 2px solid #000;
  }
  
  .chat-error {
    background: #ffebee;
    border: 2px solid #d32f2f;
  }
}
