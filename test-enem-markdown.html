<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Formata√ß√£o Markdown - ENEM</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/react-markdown@9.0.1/dist/react-markdown.js"></script>
    <script src="https://unpkg.com/remark-gfm@4.0.0/dist/remark-gfm.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background: #f9fafb;
        }
        .test-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #1f2937;
        }
        .question-text {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #3b82f6;
        }
        .alternative {
            background: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 6px;
            border: 1px solid #d1d5db;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        .alternative-label {
            font-weight: 600;
            color: #374151;
            min-width: 20px;
        }
        .alternative-text {
            flex: 1;
        }
        .markdown-test {
            background: #f3f4f6;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }
        .prose {
            max-width: none;
        }
        .prose h1 { font-size: 1.25rem; font-weight: 600; margin-bottom: 0.75rem; color: #111827; }
        .prose h2 { font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem; color: #111827; }
        .prose h3 { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; color: #111827; }
        .prose p { color: #374151; margin-bottom: 1rem; line-height: 1.625; }
        .prose ul { list-style-type: disc; list-style-position: inside; margin-bottom: 1rem; color: #374151; }
        .prose ol { list-style-type: decimal; list-style-position: inside; margin-bottom: 1rem; color: #374151; }
        .prose li { margin-bottom: 0.25rem; }
        .prose strong { font-weight: 600; color: #111827; }
        .prose em { font-style: italic; color: #374151; }
        .prose code { background: #f3f4f6; padding: 0.125rem 0.25rem; border-radius: 0.25rem; font-size: 0.875rem; font-family: monospace; color: #374151; }
        .prose pre { background: #f3f4f6; padding: 0.75rem; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1rem; }
        .prose blockquote { border-left: 4px solid #dbeafe; padding-left: 1rem; font-style: italic; color: #374151; margin-bottom: 1rem; }
    </style>
</head>
<body>
    <h1>üß™ Teste de Formata√ß√£o Markdown - ENEM</h1>
    <p>Este teste verifica se a formata√ß√£o markdown est√° funcionando corretamente nos componentes do ENEM.</p>

    <div class="test-section">
        <div class="test-title">üìù Teste 1: Quest√£o com Formata√ß√£o Markdown</div>
        <div class="question-text">
            <div id="question-test"></div>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">üî§ Teste 2: Alternativas com Formata√ß√£o Markdown</div>
        <div id="alternatives-test"></div>
    </div>

    <div class="test-section">
        <div class="test-title">üìä Teste 3: Elementos Markdown Complexos</div>
        <div class="markdown-test">
            <div id="complex-test"></div>
        </div>
    </div>

    <script type="text/babel">
        const { useState } = React;
        const ReactMarkdown = window.ReactMarkdown;
        const remarkGfm = window.remarkGfm;

        // Componente para renderizar alternativas
        function AlternativeButton({ label, text, index, isSelected, onClick }) {
            const cleanText = text.replace(/^[A-E]\)\s*/, '').trim();
            
            return (
                <div 
                    className={`alternative ${isSelected ? 'border-blue-500 bg-blue-50' : ''}`}
                    onClick={onClick}
                    style={{ cursor: 'pointer' }}
                >
                    <span className="alternative-label">{label})</span>
                    <div className="alternative-text">
                        <ReactMarkdown
                            remarkPlugins={[remarkGfm]}
                            components={{
                                p: ({ children }) => <span className="inline">{children}</span>,
                                strong: ({ children }) => <strong className="font-semibold text-gray-900">{children}</strong>,
                                em: ({ children }) => <em className="italic text-gray-800">{children}</em>,
                                code: ({ children }) => <code className="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono text-gray-800">{children}</code>,
                                ul: ({ children }) => <ul className="list-disc list-inside space-y-1 text-gray-800">{children}</ul>,
                                ol: ({ children }) => <ol className="list-decimal list-inside space-y-1 text-gray-800">{children}</ol>,
                                li: ({ children }) => <li className="mb-1">{children}</li>,
                            }}
                        >
                            {cleanText}
                        </ReactMarkdown>
                    </div>
                </div>
            );
        }

        // Componente principal de teste
        function MarkdownTest() {
            const [selectedAlternative, setSelectedAlternative] = useState(null);

            const testQuestion = `**Quest√£o de Exemplo - Ci√™ncias da Natureza**

Considere as seguintes informa√ß√µes sobre *ecossistemas*:

1. **Biodiversidade** √© fundamental para a estabilidade
2. *Cadeias alimentares* mant√™m o equil√≠brio
3. \`Ciclos biogeoqu√≠micos\` reciclam nutrientes

> **Importante:** A preserva√ß√£o ambiental √© essencial para o futuro do planeta.

Qual das alternativas abaixo representa a resposta correta?`;

            const testAlternatives = [
                "**Alternativa A** - Esta √© a primeira op√ß√£o com *√™nfase* em texto importante.",
                "**Alternativa B** - Esta op√ß√£o cont√©m `c√≥digo` e **negrito**.",
                "**Alternativa C** - Lista de itens:\n- Item 1\n- Item 2\n- Item 3",
                "**Alternativa D** - Esta op√ß√£o tem *it√°lico* e **negrito** combinados.",
                "**Alternativa E** - Op√ß√£o com `c√≥digo inline` e **formata√ß√£o** especial."
            ];

            const complexMarkdown = `# T√≠tulo Principal

## Subt√≠tulo

Este √© um **texto em negrito** e este √© um *texto em it√°lico*.

### Lista Numerada:
1. Primeiro item
2. Segundo item
3. Terceiro item

### Lista com Marcadores:
- Item A
- Item B
- Item C

### C√≥digo:
\`\`\`javascript
function exemplo() {
    return "Hello World";
}
\`\`\`

### Cita√ß√£o:
> Esta √© uma cita√ß√£o importante que deve ser destacada.

### C√≥digo inline: \`console.log("teste")\`

**Conclus√£o:** A formata√ß√£o markdown est√° funcionando corretamente!`;

            return (
                <div>
                    {/* Teste 1: Quest√£o */}
                    <div className="prose max-w-none">
                        <ReactMarkdown
                            remarkPlugins={[remarkGfm]}
                            components={{
                                h1: ({ children }) => <h1 className="text-xl font-semibold mb-3 text-gray-900">{children}</h1>,
                                h2: ({ children }) => <h2 className="text-lg font-semibold mb-3 text-gray-900">{children}</h2>,
                                h3: ({ children }) => <h3 className="text-base font-semibold mb-2 text-gray-900">{children}</h3>,
                                p: ({ children }) => <p className="text-gray-800 mb-4 leading-relaxed">{children}</p>,
                                ul: ({ children }) => <ul className="list-disc list-inside mb-4 space-y-1 text-gray-800">{children}</ul>,
                                ol: ({ children }) => <ol className="list-decimal list-inside mb-4 space-y-1 text-gray-800">{children}</ol>,
                                li: ({ children }) => <li className="mb-1">{children}</li>,
                                strong: ({ children }) => <strong className="font-semibold text-gray-900">{children}</strong>,
                                em: ({ children }) => <em className="italic text-gray-800">{children}</em>,
                                blockquote: ({ children }) => <blockquote className="border-l-4 border-blue-200 pl-4 italic text-gray-700 mb-4">{children}</blockquote>,
                                code: ({ children }) => <code className="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono text-gray-800">{children}</code>,
                                pre: ({ children }) => <pre className="bg-gray-100 p-3 rounded-lg overflow-x-auto mb-4">{children}</pre>,
                            }}
                        >
                            {testQuestion}
                        </ReactMarkdown>
                    </div>

                    {/* Teste 2: Alternativas */}
                    <div>
                        {testAlternatives.map((alt, index) => (
                            <AlternativeButton
                                key={index}
                                label={String.fromCharCode(65 + index)}
                                text={alt}
                                index={index}
                                isSelected={selectedAlternative === index}
                                onClick={() => setSelectedAlternative(index)}
                            />
                        ))}
                    </div>

                    {/* Teste 3: Markdown Complexo */}
                    <div className="prose max-w-none">
                        <ReactMarkdown
                            remarkPlugins={[remarkGfm]}
                            components={{
                                h1: ({ children }) => <h1 className="text-xl font-semibold mb-3 text-gray-900">{children}</h1>,
                                h2: ({ children }) => <h2 className="text-lg font-semibold mb-3 text-gray-900">{children}</h2>,
                                h3: ({ children }) => <h3 className="text-base font-semibold mb-2 text-gray-900">{children}</h3>,
                                p: ({ children }) => <p className="text-gray-800 mb-4 leading-relaxed">{children}</p>,
                                ul: ({ children }) => <ul className="list-disc list-inside mb-4 space-y-1 text-gray-800">{children}</ul>,
                                ol: ({ children }) => <ol className="list-decimal list-inside mb-4 space-y-1 text-gray-800">{children}</ol>,
                                li: ({ children }) => <li className="mb-1">{children}</li>,
                                strong: ({ children }) => <strong className="font-semibold text-gray-900">{children}</strong>,
                                em: ({ children }) => <em className="italic text-gray-800">{children}</em>,
                                blockquote: ({ children }) => <blockquote className="border-l-4 border-blue-200 pl-4 italic text-gray-700 mb-4">{children}</blockquote>,
                                code: ({ children }) => <code className="bg-gray-100 px-1 py-0.5 rounded text-sm font-mono text-gray-800">{children}</code>,
                                pre: ({ children }) => <pre className="bg-gray-100 p-3 rounded-lg overflow-x-auto mb-4">{children}</pre>,
                            }}
                        >
                            {complexMarkdown}
                        </ReactMarkdown>
                    </div>
                </div>
            );
        }

        // Renderizar os testes
        ReactDOM.render(<MarkdownTest />, document.getElementById('question-test'));
        ReactDOM.render(<MarkdownTest />, document.getElementById('alternatives-test'));
        ReactDOM.render(<MarkdownTest />, document.getElementById('complex-test'));
    </script>
</body>
</html>
