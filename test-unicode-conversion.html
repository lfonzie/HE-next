<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Convers√£o Unicode</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .test-section h2 {
            color: #2c3e50;
            margin-top: 0;
        }
        .formula {
            font-size: 18px;
            line-height: 1.6;
            margin: 10px 0;
            padding: 10px;
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            border-radius: 4px;
        }
        .original {
            color: #e74c3c;
            font-family: monospace;
        }
        .converted {
            color: #27ae60;
            font-weight: bold;
        }
        .description {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üßÆ Teste de Convers√£o Unicode para Matem√°tica e Qu√≠mica</h1>
        
        <div class="test-section">
            <h2>üìê F√≥rmulas Matem√°ticas B√°sicas</h2>
            
            <div class="description">F√≥rmulas trigonom√©tricas:</div>
            <div class="formula">
                <div class="original">\sin(\theta) = \frac{\text{cateto oposto}}{\text{hipotenusa}}</div>
                <div class="converted">sin(Œ∏) = cateto oposto‚ÅÑhipotenusa</div>
            </div>
            
            <div class="formula">
                <div class="original">\cos(\theta) = \frac{\text{cateto adjacente}}{\text{hipotenusa}}</div>
                <div class="converted">cos(Œ∏) = cateto adjacente‚ÅÑhipotenusa</div>
            </div>
            
            <div class="formula">
                <div class="original">\tan(\theta) = \frac{\sin(\theta)}{\cos(\theta)}</div>
                <div class="converted">tan(Œ∏) = sin(Œ∏)‚ÅÑcos(Œ∏)</div>
            </div>
        </div>

        <div class="test-section">
            <h2>üî¨ F√≥rmulas Qu√≠micas</h2>
            
            <div class="description">F√≥rmulas moleculares com subscritos:</div>
            <div class="formula">
                <div class="original">\text{H}_2\text{O}</div>
                <div class="converted">H‚ÇÇO</div>
            </div>
            
            <div class="formula">
                <div class="original">\text{CO}_2</div>
                <div class="converted">CO‚ÇÇ</div>
            </div>
            
            <div class="formula">
                <div class="original">\text{C}_6\text{H}_{12}\text{O}_6</div>
                <div class="converted">C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ</div>
            </div>
            
            <div class="description">Rea√ß√µes qu√≠micas:</div>
            <div class="formula">
                <div class="original">\text{H}_2 + \text{Cl}_2 \rightarrow 2\text{HCl}</div>
                <div class="converted">H‚ÇÇ + Cl‚ÇÇ ‚Üí 2HCl</div>
            </div>
        </div>

        <div class="test-section">
            <h2>üìä S√≠mbolos Matem√°ticos Avan√ßados</h2>
            
            <div class="description">Operadores e s√≠mbolos:</div>
            <div class="formula">
                <div class="original">\sum_{i=1}^{n} x_i</div>
                <div class="converted">‚àë·µ¢‚Çå‚ÇÅ‚Åø x·µ¢</div>
            </div>
            
            <div class="formula">
                <div class="original">\int_{0}^{\infty} e^{-x} dx</div>
                <div class="converted">‚à´‚ÇÄ^‚àû e‚ÅªÀ£ dx</div>
            </div>
            
            <div class="formula">
                <div class="original">\sqrt{x^2 + y^2}</div>
                <div class="converted">‚àö(x¬≤ + y¬≤)</div>
            </div>
            
            <div class="formula">
                <div class="original">\alpha + \beta = \gamma</div>
                <div class="converted">Œ± + Œ≤ = Œ≥</div>
            </div>
        </div>

        <div class="test-section">
            <h2>üå°Ô∏è Unidades e Medidas</h2>
            
            <div class="description">Temperatura e energia:</div>
            <div class="formula">
                <div class="original">25\degree C</div>
                <div class="converted">25¬∞C</div>
            </div>
            
            <div class="formula">
                <div class="original">100\joule</div>
                <div class="converted">100J</div>
            </div>
            
            <div class="formula">
                <div class="original">1\mol \text{ de } \text{H}_2\text{SO}_4</div>
                <div class="converted">1mol de H‚ÇÇSO‚ÇÑ</div>
            </div>
        </div>

        <div class="test-section">
            <h2>üî¢ Conjuntos e L√≥gica</h2>
            
            <div class="description">S√≠mbolos de conjunto:</div>
            <div class="formula">
                <div class="original">x \in \mathbb{R}</div>
                <div class="converted">x ‚àà ‚Ñù</div>
            </div>
            
            <div class="formula">
                <div class="original">A \subset B</div>
                <div class="converted">A ‚äÇ B</div>
            </div>
            
            <div class="formula">
                <div class="original">\forall x \in \mathbb{N}, x > 0</div>
                <div class="converted">‚àÄ x ‚àà ‚Ñï, x > 0</div>
            </div>
        </div>

        <div class="test-section">
            <h2>‚ö° F√≠sica e Energia</h2>
            
            <div class="description">S√≠mbolos f√≠sicos:</div>
            <div class="formula">
                <div class="original">E = mc^2</div>
                <div class="converted">E = mc¬≤</div>
            </div>
            
            <div class="formula">
                <div class="original">F = ma</div>
                <div class="converted">F = ma</div>
            </div>
            
            <div class="formula">
                <div class="original">\hbar \omega</div>
                <div class="converted">‚Ñè œâ</div>
            </div>
        </div>

        <div class="test-section">
            <h2>‚úÖ Status da Implementa√ß√£o</h2>
            <p><strong>‚úÖ Convers√£o LaTeX ‚Üí Unicode implementada</strong></p>
            <p><strong>‚úÖ Suporte a fra√ß√µes (\frac, \dfrac, \tfrac)</strong></p>
            <p><strong>‚úÖ Suporte a subscritos e sobrescritos</strong></p>
            <p><strong>‚úÖ S√≠mbolos matem√°ticos b√°sicos e avan√ßados</strong></p>
            <p><strong>‚úÖ S√≠mbolos qu√≠micos e unidades</strong></p>
            <p><strong>‚úÖ Letras gregas (Œ±, Œ≤, Œ≥, etc.)</strong></p>
            <p><strong>‚úÖ Operadores matem√°ticos (‚àë, ‚à´, ‚àö, etc.)</strong></p>
            <p><strong>‚úÖ S√≠mbolos de conjunto (‚àà, ‚äÇ, ‚Ñù, etc.)</strong></p>
            <p><strong>‚úÖ S√≠mbolos de l√≥gica (‚àÄ, ‚àÉ, ‚àß, ‚à®, etc.)</strong></p>
            <p><strong>‚úÖ S√≠mbolos de f√≠sica e energia</strong></p>
            <p><strong>‚úÖ Instru√ß√µes Unicode nos prompts da OpenAI</strong></p>
            <p><strong>‚úÖ Aplica√ß√£o autom√°tica em todos os m√≥dulos</strong></p>
            <p><strong>‚úÖ Sistema centralizado de gerenciamento</strong></p>
        </div>

        <div class="test-section">
            <h2>ü§ñ Instru√ß√µes nos Prompts da OpenAI</h2>
            <p><strong>Implementa√ß√£o Completa:</strong></p>
            <ul>
                <li>‚úÖ Todos os prompts agora incluem instru√ß√µes de Unicode</li>
                <li>‚úÖ Aplica√ß√£o autom√°tica via SystemPromptManager</li>
                <li>‚úÖ Fun√ß√£o centralizada addUnicodeInstructions()</li>
                <li>‚úÖ Verifica√ß√£o inteligente para evitar duplica√ß√£o</li>
                <li>‚úÖ Instru√ß√µes espec√≠ficas para cada tipo de s√≠mbolo</li>
                <li>‚úÖ Exemplos corretos e incorretos claramente definidos</li>
            </ul>
            
            <div class="description">Exemplo de instru√ß√£o enviada para a OpenAI:</div>
            <div class="formula">
                <div class="original">FORMATA√á√ÉO MATEM√ÅTICA E QU√çMICA OBRIGAT√ìRIA:</div>
                <div class="converted">- Use APENAS s√≠mbolos Unicode para matem√°tica e qu√≠mica</div>
                <div class="converted">- NUNCA use LaTeX, KaTeX, $...$, $$...$$, \\(...\\), \\[...\\]</div>
                <div class="converted">- PROIBIDO usar comandos LaTeX como \\text, \\xrightarrow, \\frac, \\alpha, \\beta, etc.</div>
            </div>
        </div>
    </div>

    <script>
        // Simula√ß√£o da fun√ß√£o convertMathToUnicode para demonstra√ß√£o
        function convertMathToUnicode(text) {
            return text
                // Fra√ß√µes
                .replace(/\\frac\{([^}]+)\}\{([^}]+)\}/g, '$1‚ÅÑ$2')
                .replace(/\\dfrac\{([^}]+)\}\{([^}]+)\}/g, '$1‚ÅÑ$2')
                .replace(/\\tfrac\{([^}]+)\}\{([^}]+)\}/g, '$1‚ÅÑ$2')
                
                // Subscritos
                .replace(/_(\d+)/g, (match, num) => {
                    const subscripts = {
                        '0': '‚ÇÄ', '1': '‚ÇÅ', '2': '‚ÇÇ', '3': '‚ÇÉ', '4': '‚ÇÑ', '5': '‚ÇÖ',
                        '6': '‚ÇÜ', '7': '‚Çá', '8': '‚Çà', '9': '‚Çâ'
                    };
                    return num.split('').map(d => subscripts[d] || d).join('');
                })
                
                // Sobrescritos
                .replace(/\^(\d+)/g, (match, num) => {
                    const superscripts = {
                        '0': '‚Å∞', '1': '¬π', '2': '¬≤', '3': '¬≥', '4': '‚Å¥', '5': '‚Åµ',
                        '6': '‚Å∂', '7': '‚Å∑', '8': '‚Å∏', '9': '‚Åπ'
                    };
                    return num.split('').map(d => superscripts[d] || d).join('');
                })
                
                // S√≠mbolos b√°sicos
                .replace(/\\sin/g, 'sin')
                .replace(/\\cos/g, 'cos')
                .replace(/\\tan/g, 'tan')
                .replace(/\\theta/g, 'Œ∏')
                .replace(/\\alpha/g, 'Œ±')
                .replace(/\\beta/g, 'Œ≤')
                .replace(/\\gamma/g, 'Œ≥')
                .replace(/\\delta/g, 'Œ¥')
                .replace(/\\epsilon/g, 'Œµ')
                .replace(/\\pi/g, 'œÄ')
                .replace(/\\sigma/g, 'œÉ')
                .replace(/\\omega/g, 'œâ')
                .replace(/\\rightarrow/g, '‚Üí')
                .replace(/\\sum/g, '‚àë')
                .replace(/\\int/g, '‚à´')
                .replace(/\\sqrt/g, '‚àö')
                .replace(/\\infty/g, '‚àû')
                .replace(/\\in/g, '‚àà')
                .replace(/\\subset/g, '‚äÇ')
                .replace(/\\mathbb\{R\}/g, '‚Ñù')
                .replace(/\\mathbb\{N\}/g, '‚Ñï')
                .replace(/\\forall/g, '‚àÄ')
                .replace(/\\hbar/g, '‚Ñè')
                .replace(/\\degree/g, '¬∞')
                .replace(/\\joule/g, 'J')
                .replace(/\\mol/g, 'mol')
                .replace(/\\text\{([^}]+)\}/g, '$1');
        }

        // Aplicar convers√£o aos exemplos
        document.addEventListener('DOMContentLoaded', function() {
            const formulas = document.querySelectorAll('.formula .original');
            formulas.forEach(formula => {
                const converted = convertMathToUnicode(formula.textContent);
                const convertedElement = formula.nextElementSibling;
                convertedElement.textContent = converted;
            });
        });
    </script>
</body>
</html>
